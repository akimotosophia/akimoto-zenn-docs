# Zenn 記事執筆ルール

## 概要

このドキュメントは、Zennで記事を執筆する際のルールを定めたものです。

## 良い記事を書くために知っておくこと

- バーバラミントのピラミッド形式で思考を整理すること。
- 下記のSEO対策を満たすようにブログを書くこと
1. 検索意図（Search Intent）
    - 情報目的（Informational）、操作目的（Navigational/Transactional）、比較検討。
    - 記事はまず「どのタイプの意図を満たすか」を決める。欲しい答えが短ければ先に結論（TL;DR）を出す。
2. 情報採餌理論（Information Foraging）
    - ユーザーは「最小のコストで最大の価値」を求める。見出し・スニペットで価値が感じられなければ離脱する。
    - → 記事冒頭に要約、コードの最小実例、期待できる効果（再処理が楽になる等）を提示する。
3. サティスファイシング（Satisficing）
    - 完全な最適解を探すのではなく「十分良い」解で先に進みがち。
    - → 小さな成功（導入後の再処理手順）を示し、読者がすぐ試せる「勝ち筋」を作る。
4. F字スキャン（閲読パターン）と認知負荷
    - ユーザーは画面を斜めに読む。長文の連続は読まれない。
    - → 見出し、箇条、図、コードブロック、ハイライト（注意点）で視線を誘導する。
5. 問い合わせの漸進性（Query Reformulation）
    - 初回検索は広く、満足できなければ絞る。記事に「初級→中級→上級」の流れを用意すると良い。
    - → FAQや「より詳しく知るための次の検索キーワード」を明記する。
6. 信頼のヒューリスティックス（信頼構築）
    - 実例、ログ、コマンド出力、失敗例＋対処があると信頼される。
    - → 実際に運用で直面した落とし穴（副作用、レース条件）を正直に書くと効果的。

## 記事ドラフトとなるピラミッド型メモのフォーマット
- ファイル形式は.md
- 命名は`記事フォーマットと同じ名称-yyyymmdd-draft.md`を使用する。
- ピラミッドはmermaidのFlowDiagramを使用する。
- ピラミッドのtemplateは`templates/draft-pyramid.md`参照のこと。
- ピラミッド内のメッセージを書く際は下記の原則を守ること
  - 名詞表現、体言止めは使用禁止とする
  - 「曖昧言葉」は使用禁止とする
  - メッセージはただ一つの文章で表現する
  - 「しりてが」接続詞は使用禁止とする

## 記事のフォーマット

-   タイトルは分かりやすく、具体的なものにする
-   記事の最初に概要を記載する。欲しい答えが短ければ先に結論を出す
-   見出しを使って記事の構造を明確にする
-   読者が開発者であれば、すぐ実装に取り掛かれるようにコードスニペットと期待出力を記載する。
-   概念図を作成する。
-   失敗例と対処を記載する。
-   反論への先回りを行う。
-   コードブロックには言語を指定する
-   絵文字を適切に使い、読者のエンゲージメントを高める

## スタイルガイド

-   ですます調で統一する
-   専門用語には注釈を入れる
-   読者が再現可能な手順を記載する
-   参考にした記事やドキュメントへのリンクを記載する
-   接続詞には「しりてが」接続詞の使用を禁止する。代わりにロジカル接続詞を使用する
    -   ・・・する時に
    -   ・・・する前に
    -   ・・・した後に
    -   ・・・するまで
    -   ・・・して以来
    -   ・・・である一方
    -   ・・・であるけれど
    -   ・・・であるがゆえに
    -   ・・・の結果
    -   ・・・であるにもかかわらず
    -   ・・・するためには
    -   もし・・・ならば
    -   もし・・・でなければ
    -   ・・・になるという条件で

## 記事作成の時のルール

- 作成時のコマンドは`npx zenn new:article --slug <記事タイトルの英語名>-<YYYYMMDD>`
- 記事メタデータは下記のように記載
```
---
title: "SEO対策が見込める内容に即したキャッチーなタイトル"
emoji: "🐡" # コンテンツの内容を最もわかりやすく表す絵文字
type: "tech" # tech: 技術記事 / idea: アイデア
topics: [] # コンテンツの内容をもっと反映する一般的によく使われているタグ
published: false
---
```
- テンプレートはあくまで参考。上記の記事作成のフローにのっとって最適な目次を作成すること。

## 記事作成のフロー
下記1~5のフローに従って、draftフォルダにピラミッド型のメモを作成する。
6でドラフトからarticlesに清書した記事を作成する。

1. **OPQ分析**：想定すべき読者の目標・問題・質問を設定する。例としては下記。
   - 目標：EventBridge Schedulerでメッセージを一意に識別して安全に再処理したい。
   - 問題：どうやって一意性を担保するか・再処理の副作用を避けるか分からない。公式ドキュメントだけでは実践例が少ない。
   - 質問例：「EventBridge Scheduler で同じ回のメッセージを安全に再処理するにはどうすればいい？」
2. **仮説設定**：質問への回答となる種メッセージを仮に決める。
   - メッセージ例：「EventBridge Schedulerでcontext属性を使用し、再処理可能な一意キーを設定する」
3. **仮説検証**：必要な支持メッセージが何かを考え、それらを探す
   - 判断根拠例：「context属性にはexecution_idという実行毎に一意のキーが発行できる。」「後続のジョブが異常終了した場合にexecution_idをキーにステータスを記録すれば実行ステータスの判断ができる。」「正常終了であればスキップ、異常終了であれば再処理などのロジックを入れられる」
4. **仮説修正**：調査の結果、仮説に修正が必要だと判明した場合は、仮説を修正し、ステップ3を繰り返す。
5. **結論完成**：ステップ3とステップ4を繰り返し、ピラミッドが完成。仮説が結論になる。
6. **文書化**：ピラミッドをもとに、記事のフォーマット、スタイルガイド、記事作成の時のルールをもとにZennの記事を作成する。